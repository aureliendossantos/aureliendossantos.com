---
import { Image } from "astro:assets"

interface Props {
	src: ImageMetadata
	alt?: string
	caption?: string
	rounded?: boolean
	shadow?: boolean
}
const { src, alt, caption, rounded, shadow } = Astro.props
---

<figure>
	<a href={src.src}
		><Image
			src={src}
			alt={alt || ""}
			class={(rounded ? "rounded-md" : "") + (shadow ? " shadow" : "")}
		/></a
	>
	{
		Astro.slots.has("default") && (
			<figcaption>
				<slot />
			</figcaption>
		)
	}
	{
		caption && (
			<figcaption>
				<slot>{caption}</slot>
			</figcaption>
		)
	}
</figure>
